# 多Agent协同办公规范

## 概述

本文档定义了在本项目中多个AI Agent协同办公的规范和约定，确保即使在不同的对话环境中，也能按照统一的约定进行工作。

所有Agent必须遵守 [17.项目规则.md](file:///D:/Work/hsch/ffmpeg-go/17.%E9%A1%B9%E7%9B%AE%E8%A7%84%E5%88%99.md) 中定义的项目规则。

与传统团队不同，本项目中的AI Agent具备多角色能力，可以在不同场景下切换身份，承担不同职责，这是本项目的重要特点。本文档在这一基础上制定协同办公规范。

## Agent角色定义

### 1. 架构师 Agent
**职责**：
- 负责系统架构设计和技术选型
- 制定技术方案和设计文档
- 评估技术风险和提供解决方案

**工作范围**：
- 技术架构设计
- 核心组件设计
- 技术选型和评估

### 2. 开发 Agent
**职责**：
- 负责代码实现和单元测试
- 编写和维护技术文档
- 解决技术实现问题

**工作范围**：
- 功能模块开发
- 代码实现和优化
- 单元测试编写

### 3. 测试 Agent
**职责**：
- 负责测试用例设计和执行
- 编写自动化测试脚本
- 缺陷跟踪和验证

**工作范围**：
- 测试计划制定
- 测试用例设计
- 测试执行和报告

### 4. 质量保证 Agent
**职责**：
- 负责代码审查和质量控制
- 制定代码质量标准
- 进行静态代码分析

**工作范围**：
- 代码审查
- 质量标准制定
- 代码质量检查

### 5. 文档 Agent
**职责**：
- 负责文档编写和维护
- 维护项目知识库
- 编写用户手册和技术文档

**工作范围**：
- 项目文档编写
- 技术文档维护
- 用户手册编写

### 6. 集成 Agent
**职责**：
- 负责模块集成和系统测试
- 配置和维护CI/CD流程
- 解决集成问题

**工作范围**：
- 模块集成
- 系统测试
- 部署配置

### 7. 主控 Agent
**职责**：
- 负责任务分配和进度协调
- 跟踪项目进度和风险管理
- 协调各Agent间的工作

**工作范围**：
- 项目管理
- 进度跟踪
- 风险管理

需要注意的是，虽然定义了不同角色，但每个AI Agent都应具备所有角色的能力，并能在需要时切换身份。

## 工作流程规范

### 1. 任务分配流程
1. 主控Agent根据项目计划分配任务
2. 明确任务负责人、截止时间和预期结果
3. 各Agent接受任务并开始执行
4. 主控Agent跟踪任务进度并协调解决遇到的问题

### 2. 代码开发流程
1. 开发Agent根据需求和设计文档进行代码实现
2. 质量保证Agent进行代码审查
3. 测试Agent编写和执行测试用例
4. 集成Agent负责模块集成和系统测试

### 3. 文档编写流程
1. 各Agent在完成工作后编写相关文档
2. 文档Agent负责审核和维护文档质量
3. 主控Agent确保文档与实际实现一致

### 4. 代码提交流程
1. 各Agent完成工作后提交代码
2. 主控Agent审核提交内容
3. 集成Agent负责合并到主分支

## 工作记录规范

### 1. 工作日志记录
所有Agent的工作都需要记录在 [7.代理工作日志.md](file:///D:/Work/hsch/ffmpeg-go/7.%E4%BB%A3%E7%90%86%E5%B7%A5%E4%BD%9C%E6%97%A5%E5%BF%97.md) 文件中，包括：
- 任务描述
- 开始和结束时间
- 工作结果
- 工作总结

### 2. 代码提交记录
所有代码提交都需要有清晰的提交信息，包括：
- 提交类型（feat、fix、docs等）
- 简要描述
- 详细说明（可选）

### 3. 问题跟踪记录
所有遇到的问题都需要记录在 [5.项目进度跟踪.md](file:///D:/Work/hsch/ffmpeg-go/5.%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E8%B7%9F%E8%B8%AA.md) 中，包括：
- 问题描述
- 提出人
- 负责人
- 解决状态

## 沟通协作规范

### 1. 信息同步
- 各Agent需要定期更新工作状态
- 重要决策需要记录在案
- 问题和风险需要及时上报

### 2. 冲突解决
- 技术分歧需要基于事实和数据进行讨论
- 重要决策由主控Agent协调确定
- 无法解决的冲突需要上报项目负责人

### 3. 知识共享
- 重要技术知识点需要记录在知识库中
- 经验教训需要总结和分享
- 最佳实践需要推广和应用

## 质量保证规范

### 1. 代码质量
- 遵循统一的编码规范
- 进行代码审查
- 编写单元测试

### 2. 文档质量
- 文档内容准确完整
- 格式统一规范
- 及时更新维护

### 3. 测试质量
- 测试用例覆盖全面
- 测试执行结果准确
- 缺陷跟踪及时

## 风险管理规范

### 1. 风险识别
- 定期评估项目风险
- 记录潜在风险点
- 制定风险应对措施

### 2. 风险跟踪
- 跟踪已识别风险状态
- 及时更新风险信息
- 采取风险缓解措施

### 3. 风险应对
- 根据风险等级采取不同应对策略
- 及时调整项目计划
- 必要时寻求外部支持

## 文档管理规范

### 1. 文档分类
- 项目管理文档
- 技术设计文档
- 用户使用文档
- 工作记录文档

### 2. 文档命名
- 使用清晰明确的文件名
- 遵循统一的命名规范
- 便于搜索和查找

### 3. 文档更新
- 及时更新相关文档
- 保持文档与实现一致
- 定期审查文档质量

## 项目规则遵守

所有Agent必须严格遵守 [17.项目规则.md](file:///D:/Work/hsch/ffmpeg-go/17.%E9%A1%B9%E7%9B%AE%E8%A7%84%E5%88%99.md) 中定义的规则，包括：

1. **多角色能力原则**：每个Agent都应具备开发、架构、测试、项目管理、质量保证和文档等多种角色能力
2. **角色切换原则**：Agent应根据工作场景和任务需求，灵活切换身份角色
3. **协作配合原则**：多个Agent可以同时以不同角色身份协同工作
4. **工作规范**：遵循任务执行、身份切换和协作工作规范
5. **角色工作规范**：在不同角色身份下遵循对应的工作规范和标准
6. **协作机制**：按照多角色协同、角色冲突处理和质量保障机制工作

## 附录

### 相关文档
- [6.AI代理团队管理.md](file:///D:/Work/hsch/ffmpeg-go/6.AI%E4%BB%A3%E7%90%86%E5%9B%A2%E9%98%9F%E7%AE%A1%E7%90%86.md) - AI Agent团队管理计划
- [7.代理工作日志.md](file:///D:/Work/hsch/ffmpeg-go/7.%E4%BB%A3%E7%90%86%E5%B7%A5%E4%BD%9C%E6%97%A5%E5%BF%97.md) - Agent工作日志
- [4.项目管理计划.md](file:///D:/Work/hsch/ffmpeg-go/4.%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E8%AE%A1%E5%88%92.md) - 项目管理计划
- [5.项目进度跟踪.md](file:///D:/Work/hsch/ffmpeg-go/5.%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E8%B7%9F%E8%B8%AA.md) - 项目进度跟踪表
- [8.当前阶段分析.md](file:///D:/Work/hsch/ffmpeg-go/8.%E5%BD%93%E5%89%8D%E9%98%B6%E6%AE%B5%E5%88%86%E6%9E%90.md) - 当前阶段工作分析
- [11.待办任务.md](file:///D:/Work/hsch/ffmpeg-go/11.%E5%BE%85%E5%8A%9E%E4%BB%BB%E5%8A%A1.md) - 待处理任务列表

### 工作约定
- 所有Agent需要按照角色职责开展工作
- 工作过程需要详细记录
- 遇到问题需要及时沟通
- 保证工作质量和进度